<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <link href="/Images/petIcon.png" rel="icon" type="image/png" />
    <title>Pet shop</title>
    <link href="/css/style.css" rel="stylesheet" />

    <link href="/CSS/IvanStyleSheet.css" rel="stylesheet" />
    <link href="/CSS/bootstrap.min.css" rel="stylesheet" />

    <script src="/js/site.js"></script>

    <style>
        .my-invalid-feedback{
            color: red;
        }
    </style>

</head>

<body>

    <script>loadDOM('/partials/header.html')</script>

    <main class="container mt-2">
        <h1 style="font-size: 25pt; text-align:center">Registration</h1>

        <form class="col-md-9 col-lg-9 offset-lg-2 offset-md-1 needs-validation" novalidate>

            <div class="row">
                <div class="mb-3 col-md-6">
                    <label class="form-label" for="lastName">Surname</label>
                    <input class="form-control" type="text" name="lastName" id="lastName" required  />
                    <div class="invalid-feedback my-invalid-feedback">
                        Input name!
                    </div>
                    <div class="valid-feedback">
                        Well done!
                    </div>
                </div>

                <div class="mb-3 col-md-6">
                    <label class="form-label" for="firstName">Name</label>
                    <input class="form-control" type="text" name="firstName" id="firstName" required />
                    <div class="invalid-feedback my-invalid-feedback">
                        Input surname!
                    </div>
                    <div class="valid-feedback">
                        Well done!
                    </div>
                </div>
            </div>


            <div class="row">
                <div class="mb-3 col-md-7">
                    <label class="form-label" for="email">Email</label>
                    <input class="form-control" type="email" name="email" id="email" required/>
                </div>

                <div class="mb-3 col-md-5">
                    <label class="form-label" for="phone">Phone</label>
                    <input class="form-control" type="tel" name="phone" id="phone" required
                           pattern="^\+38\(\d{3}\)\d{3}-\d{2}-\d{2}$" />
                    <div class="invalid-feedback">
                        Input your number in format +38(xxx)xxx-xx-xx
                    </div>
                </div>
            </div>


            <div class="row">

                <div class="mb-3 col-md-9">
                    <label class="form-label" for="photo">Photo</label>
                    <input class="form-control" type="file" name="photo" id="photo" 
                           accept="image/*" required/> <!--приймає лише фото в провіднику-->
                </div>

                <div class="mb-3 col-md-3">
                    <label for="photo">
                        <img src="/Images/imageDownload.png" class="d-flex justify-content-center"
                             alt="photo" style="max-width: 100%;  max-height:250px; cursor: pointer;"
                             id="selectedImage" />
                    </label>
                </div>
            </div>

            <div class="row">
                <div class="mb-3 col-md-6">
                    <label class="form-label" for="password">Password</label>
                    <input class="form-control" type="password" name="password" id="password" required minlength="6" />
                    <div class="invalid-feedback my-invalid-feedback">
                        Password has to be at least 6 symbols!
                    </div>
                </div>

                <div class="mb-3 col-md-6">
                    <label class="form-label" for="confirmPassword">Repeat password</label>
                    <input class="form-control" type="password" name="confirmPassword" id="confirmPassword" required/>
                </div>
            </div>

            <div class="d-flex justify-content-center">
                <input type="submit" class="btn btn-danger me-2" value="Cancel" />
                <span class="mx-4"></span>
                <input type="submit" class="btn btn-success ms-5 " value="Register" />
            </div>

        </form>
    </main>
    
    <script src="/js/bootstrap.bundle.min.js"></script>

    <script src="https://unpkg.com/imask"></script>  <!--для регулярки для телефону-->


    <script>
        IMask(
            document.getElementById('phone'), {
                mask: '+{38}(000)000-00-00'
            }
        )
    </script>

    <script>
        const photo = document.getElementById("photo"); // document - все, що в body
        photo.onchange = (e) => {  // обробка подій
            if (e.target.files) {
                const file = e.target.files[0];
                if (file) {
                    document.getElementById("selectedImage").src = URL.createObjectURL(file);
                    //console.log("You selected photo", URL.createObjectURL(file)); //url буде доступна лише в певний момент часу
                }
            }
            
        }
        //console.log("Hey JavaScript!", photo); // виводить в консоль на сайті
    </script>

    <script src="/js/bootstrap_validate.js"></script>


</body>
</html>